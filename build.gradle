plugins {
	id 'java'
	id 'build-announcements'
	id 'org.sonarqube' version '2.6'
	id 'jacoco'
}

announce {
	local = announcerFactory.createAnnouncer('snarl')
}

repositories {
	mavenCentral()
}

sourceSets {
  main {
    java      { srcDir 'src/main/java' }
    resources { srcDir 'src/main/java' }
  }
  test {
  	java      { srcDir 'src/test/java' }
    resources { srcDir 'src/test/java' }
  }
}

test {
    useJUnitPlatform()
}

dependencies {
	testCompile('org.junit.jupiter:junit-jupiter-api:5.3.1')
	testCompile('org.junit.jupiter:junit-jupiter-params:5.3.1')
	testRuntime('org.junit.jupiter:junit-jupiter-engine:5.3.1')
    testCompile('org.assertj:assertj-core:3.11.1')
}

sonarqube {
	properties {
		property 'sonar.projectKey', 'daelfdude_bikingForecast'
		property 'sonar.organization', 'daelfdude-github'
		property 'sonar.host.url', 'https://sonarcloud.io'
		property 'sonar.jacoco.reportPaths', "build/jacoco/test.exec"
	}
}